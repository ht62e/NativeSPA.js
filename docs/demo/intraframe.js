!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i,o,r=function(){function t(){this.caption="",this.isFetched=!1,this.isMounted=!1,this.isInitialized=!1}return t.prototype.getModuleLoader=function(){return this.moduleLoader},t.prototype.getName=function(){return this.name},t.prototype.getCaption=function(){return this.caption},t.prototype.getOwnerContainer=function(){return this.currentContainer},t.prototype.setCaption=function(t){this.caption=t},t}(),s=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},a=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},l=function(){function t(){this.version="",this.msIeMode=!1,this.cache=new Map;var t=window.navigator.userAgent.toLowerCase();-1==t.indexOf("msie")&&-1==t.indexOf("trident")||(this.msIeMode=!0)}return t.getInstance=function(){return t.instance},t.prototype.setSourceVersion=function(t){this.version=t},t.prototype.preload=function(t){return s(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,this.fetch(t)];case 1:return e.sent(),[2,!0]}}))}))},t.prototype.fetch=function(t,e){return void 0===e&&(e=!1),s(this,void 0,void 0,(function(){var n=this;return a(this,(function(i){return!e&&this.cache.has(t)?[2,this.cache.get(t)]:[2,new Promise((function(e,i){var o,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState){var o=!1;if(n.msIeMode||(o=r.responseURL.indexOf("file:///")>-1&&null!==r.responseText),200===r.status||o){var s=r.responseText;n.cache.set(t,s),e(s)}else i(r.statusText)}},o=""===n.version||"debug"===n.version.toLocaleLowerCase()?Date.now().toString():n.version,r.open("GET",t+"?ver="+o,!0),r.send(null)}))]}))}))},t.instance=new t,t}(),u=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),c=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},h=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=function(t){function e(e,n){var i=t.call(this)||this;return i.subContainerInfos=new Map,i.htmlAdapter=null,i.moduleLoader=n,i.moduleDefinition=e,i.moduleIndex=n.getNextModuleInstanceSequence(),i.name=e.moduleName,i.sourceUri=e.sourceUri,i.sourceDirectory=/.*\//.exec(i.sourceUri)[0],i.localDomIdPrefix="_itm_"+i.moduleIndex.toString()+"_",i.onCreate(),i}return u(e,t),e.prototype.getLocalDomIdPrefix=function(){return this.localDomIdPrefix},e.prototype.subContainerNavigationEventHandler=function(t,e,n){return this.htmlAdapter._internal.triggerOnSubContainerNavigated(t,e,n)},e.prototype.dispatchResizeEvent=function(){this.wrapperEl&&this.subContainerInfos.forEach((function(t){t.container.onResize()}))},e.prototype.fetch=function(){return c(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return t=l.getInstance(),e=this,[4,t.fetch(this.sourceUri)];case 1:return e.source=n.sent(),this.loadSubContainerInfos(),this.isFetched=!0,[2]}}))}))},e.prototype.initialize=function(t){this.subContainerInfos.forEach((function(e){e.container.initialize(t)})),this.htmlAdapter._internal.triggerOnInitialize(t)},e.prototype.show=function(t){this.cssTransitionDriver?this.cssTransitionDriver.show(t):(this.wrapperEl.style.display="",this.wrapperEl.style.visibility=""),this.htmlAdapter._internal.triggerOnShow(!1,null),this.subContainerInfos.forEach((function(t){t.container.onShow()}))},e.prototype.hide=function(t){this.cssTransitionDriver?this.cssTransitionDriver.hide(t):"hidden"!==this.wrapperEl.style.visibility&&(this.wrapperEl.style.display="none"),this.htmlAdapter._internal.triggerOnHide(null)},e.prototype.waitForExit=function(){var t=this;return new Promise((function(e){t.exitForWaitResolver=e}))},e.prototype.exit=function(t){return c(this,void 0,void 0,(function(){var e=this;return h(this,(function(n){return[2,new Promise((function(n){e.exitResolver=n,e.htmlAdapter._internal.triggerOnExit(t)}))]}))}))},e.prototype.continueExitProcess=function(t){this.exitResolver&&(this.exitResolver(!0),this.exitResolver=null),this.exitForWaitResolver&&(this.exitForWaitResolver(t),this.exitForWaitResolver=null)},e.prototype.cancelExitProcess=function(){this.exitResolver&&(this.exitResolver(!1),this.exitResolver=null)},e.prototype.messageHandler=function(t,e){return c(this,void 0,void 0,(function(){var n=this;return h(this,(function(i){return[2,new Promise((function(i){n.messageHandleResolver=i,n.htmlAdapter._internal.triggerOnReceiveMessage(t,e)}))]}))}))},e.prototype.multicastMessageHandler=function(t,e){this.messageHandler(t,e),this.subContainerInfos.forEach((function(n){n.container.getCurrentModule().messageHandler(t,e)}))},e.prototype.returnMessageResponse=function(t){this.messageHandler&&(this.messageHandleResolver(t),this.messageHandleResolver=null)},e.prototype.getChildContainer=function(t){var e;return this.subContainerInfos.forEach((function(n){n.name===t&&(e=n.container)})),e},e.prototype.changeModuleCssPosition=function(t,e){this.wrapperEl.style.left=t,this.wrapperEl.style.top=e},e.prototype.changeModuleCssSize=function(t,e){this.wrapperEl.style.width=t,this.wrapperEl.style.height=e},e}(r),p=function(){function t(t,e,n,i){this.moduleChangeHistory=new Array,this.inBackProcess=!1,this.containerParcel=null,this.containerResult=null,this.id=t,this.bindDomElement=e,this.owner=n,this.cssTransitionOptions=i,this.bindDomElement.style.position="relative",this.bindDomElement.classList.add("itm_container")}return t.prototype.triggerSubContainerNavigationEvent=function(){this.owner&&this.owner.getOwnerContainer().subContainerNavigationEventHandler(this,this.currentModule)},t.prototype.getId=function(){return this.id},t.prototype.getOwner=function(){return this.owner},t.prototype.getCurrentModule=function(){return this.currentModule},t.prototype.setDefaultModule=function(t){this.defaultModuleName=t},t.prototype.getContainerResult=function(){return this.containerResult},t.prototype.setContainerResult=function(t){this.containerResult=t},t.prototype.getModuleChangeHistory=function(){return this.moduleChangeHistory},t.prototype.onShow=function(){},t.prototype.onResize=function(){},t.prototype.subContainerNavigationEventHandler=function(t,e){if(this.currentModule){var n={moduleName:e.getName(),caption:e.getCaption()},i=new Array;t.getModuleChangeHistory().forEach((function(t){i.push({moduleName:t.getName(),caption:t.getCaption()})})),!1!==this.currentModule.subContainerNavigationEventHandler(t.getId(),n,i)&&this.triggerSubContainerNavigationEvent()}},t}(),f=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(e){var n=t.call(this)||this;return n.message=e,n}return f(e,t),e}(Error);!function(t){t[t.READONLY=0]="READONLY",t[t.NEW=1]="NEW",t[t.NEW_EDIT=2]="NEW_EDIT",t[t.EDIT=3]="EDIT"}(o||(o={}));var v,m=function(t,e,n){this.actionType=t,this.isChanged=e,this.result=n};!function(t){t[t.OK=0]="OK",t[t.CANCEL=1]="CANCEL",t[t.BACK=2]="BACK",t[t.FORCE_CANCEL=3]="FORCE_CANCEL",t[t.YES=4]="YES",t[t.NO=5]="NO"}(v||(v={}));var g=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),w=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},b=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},E=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.mountedModules=new Map,n.classList.add("itm_page_container"),r}return g(e,t),e.prototype.addModule=function(t){return w(this,void 0,void 0,(function(){var e,n=this;return b(this,(function(i){switch(i.label){case 0:return e=t.getName(),this.mountedModules.has(e)||this.mountedModules.set(e,new Array),this.mountedModules.get(e).push(t),[4,t.mount((function(t,e){return n.bindDomElement.appendChild(t),n}),this.cssTransitionOptions)];case 1:return i.sent(),[2]}}))}))},e.prototype.initialize=function(t){this.moduleChangeHistory=new Array,this.hideAllModules(),this.defaultModuleName&&this.switch(this.defaultModuleName,t,!0)},e.prototype.switch=function(t,e,n){return w(this,void 0,void 0,(function(){return b(this,(function(i){switch(i.label){case 0:return this.moduleChangeHistory.length=0,[4,this.navigate(t,e,n)];case 1:return[2,i.sent()]}}))}))},e.prototype.forward=function(t,e,n){return w(this,void 0,void 0,(function(){return b(this,(function(i){switch(i.label){case 0:return[4,this.navigate(t,e,n)];case 1:return[2,i.sent()]}}))}))},e.prototype.navigate=function(t,e,n){return w(this,void 0,void 0,(function(){var i,o;return b(this,(function(r){switch(r.label){case 0:return[4,this.prepareModule(t)];case 1:return(i=r.sent()).initialize(e),this.activateModule(i,n),this.moduleChangeHistory.push(i),[4,i.waitForExit()];case 2:return o=r.sent(),this.inBackProcess||this.showPreviousModule(),this.inBackProcess=!1,[2,o]}}))}))},e.prototype.back=function(){var t=this;this.inBackProcess=!0,this.currentModule.exit(v.BACK).then((function(e){e?t.showPreviousModule():t.inBackProcess=!1}))},e.prototype.prepareModule=function(t){return w(this,void 0,void 0,(function(){var e,n,i;return b(this,(function(o){switch(o.label){case 0:if(e=null,n=this.mountedModules.get(t))for(i in n)if(-1===this.moduleChangeHistory.indexOf(n[i])){e=n[i];break}return e?[3,2]:[4,this.owner.getModuleLoader().loadModuleRecursively(t,this.owner)];case 1:if((e=o.sent()).getOwnerContainer()!==this)throw new y("指定されたモジュールはコンテナに登録されていません。");console.log(e.getName()+" is lazy loaded."),o.label=2;case 2:return[2,e]}}))}))},e.prototype.activateModule=function(t,e){this.currentModule&&this.currentModule.hide(),this.currentModule=t,t.show(e),this.triggerSubContainerNavigationEvent()},e.prototype.showPreviousModule=function(){this.moduleChangeHistory.length>0&&this.moduleChangeHistory.pop(),this.moduleChangeHistory.length>0?this.activateModule(this.moduleChangeHistory[this.moduleChangeHistory.length-1]):this.currentModule&&this.currentModule.getName()!==this.defaultModuleName&&this.currentModule.hide()},e.prototype.hideAllModules=function(){this.mountedModules.forEach((function(t){t.forEach((function(t){t.hide()}))}))},e.prototype.getActiveModuleInstance=function(t){var e=null;return this.moduleChangeHistory.forEach((function(n){n.getName()===t&&(e=n)})),e},e}(p),M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),C=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},x=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},_=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.mountedModules=new Map,r.moduleOrders=new Map,r.specifiedOrderModules=new Map,r.notSpecifiedOrderModules=new Array,r.scrollBoxElement=document.createElement("div"),r.scrollBoxElement.style.position="absolute",r.scrollBoxElement.style.overflow="hidden",r.scrollBoxElement.style.width="100%",r.scrollBoxElement.style.height="100%",r.scrollBoxElement.className="itm_flat_container_transition",n.classList.add("itm_flat_container"),n.appendChild(r.scrollBoxElement),r}return M(e,t),e.prototype.onShow=function(){},e.prototype.addModule=function(t){return C(this,void 0,void 0,(function(){var e=this;return x(this,(function(n){switch(n.label){case 0:return this.mountedModules.set(t.getName(),t),[4,t.mount((function(n,i){return e.scrollBoxElement.appendChild(n),i&&!isNaN(i.order)?e.specifiedOrderModules.set(t.getName(),i.order):e.notSpecifiedOrderModules.push(t.getName()),e}))];case 1:return n.sent(),this.updateAllModulePositionAndSize(),[2]}}))}))},e.prototype.initialize=function(t){this.initialParcel=t,this.mountedModules.forEach((function(e){e.initialize(t),e.show(!0)})),this.defaultModuleName&&this.switch(this.defaultModuleName,t)},e.prototype.activateModule=function(t){return C(this,void 0,void 0,(function(){var e,n;return x(this,(function(i){if(!this.mountedModules.has(t.getName()))throw new y("マウントされていないモジュールです。");return e=this.moduleOrders.get(t.getName()),n=Math.round(1e4/this.mountedModules.size*e)/100,this.scrollBoxElement.style.transform="translate(-"+String(n)+"%)",this.currentModule=t,this.triggerSubContainerNavigationEvent(),[2,!0]}))}))},e.prototype.switch=function(t,e,n){return C(this,void 0,void 0,(function(){var n;return x(this,(function(i){switch(i.label){case 0:return[4,this.prepareModule(t)];case 1:return n=i.sent(),e&&n.initialize(e),this.activateModule(n),[2,null]}}))}))},e.prototype.prepareModule=function(t){return C(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return(e=this.mountedModules.get(t))?[3,2]:[4,this.owner.getModuleLoader().loadModuleRecursively(t,this.owner)];case 1:if((e=n.sent()).getOwnerContainer()!==this)throw new y("指定されたモジュールはコンテナに登録されていません。");e.initialize(this.initialParcel),e.show(!0),console.log(e.getName()+" is lazy loaded."),n.label=2;case 2:return[2,e]}}))}))},e.prototype.getActiveModuleInstance=function(t){return this.mountedModules.get(t)},e.prototype.calcModuleOrders=function(){var t=this,e=this.notSpecifiedOrderModules.slice();this.specifiedOrderModules.forEach((function(t,n){e.splice(t,0,n)})),this.moduleOrders.clear(),e.forEach((function(e,n){t.moduleOrders.set(e,n)}))},e.prototype.updateAllModulePositionAndSize=function(){var t=this;this.calcModuleOrders(),this.scrollBoxElement.style.width="calc(100% * "+this.mountedModules.size+")";var e="calc(100% / "+this.mountedModules.size+" * ",n=String(Math.round(1/this.mountedModules.size*1e4)/100)+"%";this.mountedModules.forEach((function(i){var o=t.moduleOrders.get(i.getName()),r=e+o+")";i.changeModuleCssPosition(r,"0px"),i.changeModuleCssSize(n,"100%")}))},e}(p),S=function(){function t(){}return t.createContainer=function(t,e,n,i){return e&&"stack"!==e?new _(t,n,i):new E(t,n,i,{enableCssTransition:!0})},t.ROOT_CONTAINER_ID="$root.viewport",t}(),T=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},O=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},L=function(){function t(t,e){this.moduleLoader=t,this.overlayManager=t.getViewPort().getOverlayManager(),this.htmlModule=e}return t.prototype.getCurrentOverlay=function(){for(var t=0,e=this.htmlModule.getOwnerContainer();e.getOwner();)if(e=e.getOwner().getOwnerContainer(),t++>100)throw new y("コンテナの親子関係に循環が発生しています。");return this.overlayManager.findOverlayByContainer(e)},t.prototype.switch=function(t,e){return T(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,u;return O(this,(function(c){return(o=t.split("::")).length>1?(n=o[0],i=o[1]):(n=this.htmlModule.getOwnerContainer().getId(),i=t),r=n.split("."),s=r[0],a=r[1],l=this.moduleLoader.getModule(s),u=l.getOwnerContainer().getActiveModuleInstance(s),[2,u.getChildContainer(a).switch(i,e)]}))}))},t.prototype.forward=function(t,e){return T(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,u,c;return O(this,(function(h){if((o=t.split("::")).length>1?(n=o[0],i=o[1]):(n=this.htmlModule.getOwnerContainer().getId(),i=t),r=n.split("."),s=r[0],a=r[1],l=this.moduleLoader.getModule(s),u=l.getOwnerContainer().getActiveModuleInstance(s),(c=u.getChildContainer(a))instanceof E)return[2,c.forward(i,e)];throw new y("Container ["+c.getId+"] is not PageContainer.")}))}))},t.prototype.back=function(t){var e=(t||this.htmlModule.getOwnerContainer().getId()).split("."),n=e[0],i=e[1],o=this.moduleLoader.getModule(n).getOwnerContainer().getActiveModuleInstance(n).getChildContainer(i);if(o instanceof E)return o.back();throw new y("Container ["+o.getId+"] is not PageContainer.")},t.prototype.showWindow=function(t,e,n){return T(this,void 0,void 0,(function(){return O(this,(function(i){switch(i.label){case 0:return[4,this.overlayManager.show(t,e,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.showWindowAsModal=function(t,e,n){return T(this,void 0,void 0,(function(){return O(this,(function(i){switch(i.label){case 0:return[4,this.overlayManager.showAsModal(t,e,n)];case 1:return[2,i.sent()]}}))}))},t.prototype.showContextMenu=function(t,e,n){return T(this,void 0,void 0,(function(){var i,o,r,s;return O(this,(function(a){switch(a.label){case 0:return i={parent:this.getCurrentOverlay()},n?(o=n.getBoundingClientRect(),r=o.left,s=o.bottom,i.position={x:r,y:s},[4,this.overlayManager.show(t,e,i)]):[3,2];case 1:return[2,a.sent()];case 2:return[4,this.overlayManager.show(t,e,i)];case 3:return[2,a.sent()]}}))}))},t.prototype.showDrawer=function(t,e){return T(this,void 0,void 0,(function(){return O(this,(function(n){switch(n.label){case 0:return[4,this.overlayManager.showAsModal(t,e)];case 1:return[2,n.sent()]}}))}))},t}(),I=function(){function t(t){this.adapter=t,this.htmlModule=t._htmlModule,this.exitCallbackReturnFunctionsObject={cancelExit:this.cancelExit.bind(this),continueExit:this.continueExit.bind(this)}}return t.prototype.getHtmlModule=function(){return this.htmlModule},t.prototype.triggerOnLoad=function(t){this.adapter.onLoad&&this.adapter.onLoad(t)},t.prototype.triggerOnInitialize=function(t){this.adapter.onInitialize&&this.adapter.onInitialize(t)},t.prototype.triggerOnShow=function(t,e){this.adapter.onShow&&this.adapter.onShow(t,e)},t.prototype.triggerOnHide=function(t){this.adapter.onHide&&this.adapter.onHide(t)},t.prototype.triggerOnExit=function(t){this.adapter.onExit?this.adapter.onExit(t,this.exitCallbackReturnFunctionsObject):this.continueExit(new m(t,!0))},t.prototype.triggerOnReceiveMessage=function(t,e){this.adapter.onMessageReceived?this.adapter.onMessageReceived(t,this.returnMessageResponse.bind(this),e):this.returnMessageResponse(null)},t.prototype.triggerOnSubContainerNavigated=function(t,e,n){return this.adapter.onSubContainerNavigated?this.adapter.onSubContainerNavigated(t,e,n):null},t.prototype.continueExit=function(t){this.htmlModule.continueExitProcess(t)},t.prototype.cancelExit=function(){this.htmlModule.cancelExitProcess()},t.prototype.returnMessageResponse=function(t){this.htmlModule.returnMessageResponse(t)},t}(),P=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},z=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},k=function(){function t(t){this.htmlModule=t}return t.prototype.$id=function(t){return window.document.querySelector("#"+this.htmlModule.getLocalDomIdPrefix()+t)},t.prototype.setCaption=function(t){this.htmlModule.setCaption(t)},t.prototype.exit=function(t){this.htmlModule.exit(t)},t.prototype.sendMessage=function(t,e,n){return P(this,void 0,void 0,(function(){return z(this,(function(i){return[2,this.htmlModule.getModuleLoader().getMessageDispatcher().send(t,e,n)]}))}))},t.prototype.multicastMessage=function(t,e,n){return P(this,void 0,void 0,(function(){return z(this,(function(i){return[2,this.htmlModule.getModuleLoader().getMessageDispatcher().multicast(t,e,n)]}))}))},t.prototype.register=function(t,e,n,i,o){var r=this.htmlModule.getName()+"."+n;this.htmlModule.getModuleLoader().register(t,e,r,i,o)},t}(),D=new Map,A=function(){function t(t){D.set(t,this)}return t.prototype._setHtmlModule=function(t){this._htmlModule=t,this._internal=new I(this),this.$f=new k(t),this.$f=new L(this._htmlModule.getModuleLoader(),this._htmlModule)},t}(),R=window;R.__HtmlModuleAdapter=A,R.__registerHtmlModuleAdapter=function(t,e){D.set(t,e)};var H,F=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},N=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},B=function(){function t(t,e){this.standyStateClass="standy_state",this.enterTransitionClass="enter_transition",this.leaveTransitionClass="leave_transition",this.endStateClass="end_state",this.showResolver=null,this.hideResolver=null,this.target=t,this.setCustomTransitionClasses(e),this.target.addEventListener("transitionend",this.onTransitionEnd.bind(this))}return t.prototype.onTransitionEnd=function(t){this.hideResolver&&(this.setStandbyStateClasses(),this.hideResolver(!0),this.hideResolver=null),this.showResolver&&(this.showResolver(!0),this.showResolver=null)},t.prototype.setCustomTransitionClasses=function(t){t&&(void 0!==t.standyStateClass&&(this.standyStateClass=t.standyStateClass),void 0!==t.enterTransitionClass&&(this.enterTransitionClass=t.enterTransitionClass),void 0!==t.leaveTransitionClass&&(this.leaveTransitionClass=t.leaveTransitionClass),void 0!==t.endStateClass&&(this.endStateClass=t.endStateClass)),"none"!==this.target.style.display&&"hidden"!==this.target.style.visibility||this.target.classList.add(this.standyStateClass)},t.prototype.show=function(t){return F(this,void 0,void 0,(function(){var e=this;return N(this,(function(n){return this.hideResolver&&(this.hideResolver(!0),this.hideResolver=null),this.toggleClasses(!0,t)?[2,new Promise((function(t){e.showResolver=t}))]:[2,Promise.resolve(!0)]}))}))},t.prototype.hide=function(t){return F(this,void 0,void 0,(function(){var e=this;return N(this,(function(n){return"none"===this.target.style.display||"hidden"===this.target.style.visibility?[2]:(this.showResolver&&(this.showResolver(!0),this.showResolver=null),this.toggleClasses(!1,t)?[2,new Promise((function(t){e.hideResolver=t}))]:(this.setStandbyStateClasses(),[2,Promise.resolve(!0)]))}))}))},t.prototype.toggleClasses=function(t,e){var n=this,i=!0,o=this.target;return t?(o.style.display="",o.style.visibility="",window.setTimeout((function(){o.style.pointerEvents="",n.enterTransitionClass&&!e?o.classList.add(n.enterTransitionClass):i=!1,n.standyStateClass&&o.classList.remove(n.standyStateClass),n.leaveTransitionClass&&o.classList.remove(n.leaveTransitionClass),n.endStateClass&&o.classList.remove(n.endStateClass)}),0)):(o.style.pointerEvents="none",this.standyStateClass&&o.classList.remove(this.standyStateClass),this.enterTransitionClass&&o.classList.remove(this.enterTransitionClass),this.leaveTransitionClass&&!e?o.classList.add(this.leaveTransitionClass):(o.style.display="none",i=!1),this.endStateClass&&o.classList.add(this.endStateClass)),i},t.prototype.setStandbyStateClasses=function(){var t=this.target;t.style.display="none",this.standyStateClass&&t.classList.add(this.standyStateClass),this.leaveTransitionClass&&t.classList.remove(this.leaveTransitionClass),this.endStateClass&&t.classList.remove(this.endStateClass)},t}(),U=function(){function t(){}return t.extractOutermostHtmlTagBlocks=function(t,e){for(var n,i=new RegExp("<"+t+"(|s+.*?)","g"),o=new RegExp("</"+t+"(|s+.*?)","g"),r=new Array,s=new Array;null!==(n=i.exec(e));)r.push(n.index);for(;null!==(n=o.exec(e));)s.push(n.index+n[0].length);for(var a=new Array,l=new Array,u=0,c=0,h=Math.min(r.length,s.length);c<h;){if(u<h&&c<h&&r[u]<s[c])l.push(r[u]),++u;else{var d=l.pop();0===l.length&&a.push(e.slice(d,s[c]+1)),++c}}return a},t.extractTag=function(t){var e=/<.*?>/.exec(t);return e?e[0]:""},t.extractInnerHtml=function(t){var e=t.indexOf(">")+1,n=t.lastIndexOf("<");return e>=0&&e<n?t.slice(e,n):""},t.extractTagAttributes=function(t){for(var e,n=/([\w\-]+)[\s]*=[\s]*"(.*?)"/g,i=this.extractTag(t),o=new Map;null!==(e=n.exec(i));)o.set(e[1],e[2]);for(var r=/\s+([\w\-]+)[\s>]/g;null!==(e=r.exec(i));)o.set(e[1],void 0);return o},t}(),V=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),j=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},W=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return V(e,t),e.prototype.onCreate=function(){this.prototypeTemplateBegin="(function() {\n            var Com = function(moduleIndex) {\n                this.super = __HtmlModuleAdapter.prototype;\n                __HtmlModuleAdapter.call(this, moduleIndex);\n        ",this.prototypeTemplateEnd="   }\n            Object.setPrototypeOf(Com.prototype, __HtmlModuleAdapter.prototype);\n            new Com("+this.moduleIndex+");\n         })();\n        ",this.es2015TemplateBegin="(function() {\n        ",this.es2015TemplateEnd="   \n            __registerHtmlModuleAdapter("+this.moduleIndex+", new Com("+this.moduleIndex+"));\n         })();\n        "},e.prototype.loadSubContainerInfos=function(){for(var t,e=/<div .*?data-container-name[ =].*?>/g;t=e.exec(this.source);){var n=/id *= *["'](.+?)["']/.exec(t[0]),i=/data-container-name *= *["'](.*?)["']/.exec(t[0]),o=/data-container-type *= *["'](.*?)["']/.exec(t[0]);this.subContainerInfos.set(n[1],{name:i[1],type:o?o[1]:"",container:null})}},e.prototype.mount=function(t,e){return j(this,void 0,void 0,(function(){var n,i,o,r=this;return W(this,(function(s){switch(s.label){case 0:return this.isFetched?[3,2]:[4,this.fetch()];case 1:s.sent(),s.label=2;case 2:return this.wrapperEl=document.createElement("div"),this.wrapperEl.id=this.localDomIdPrefix+"module",this.wrapperEl.className="itm_html_module",this.wrapperEl.style.position="absolute",this.wrapperEl.style.overflow="auto",this.wrapperEl.style.width="100%",this.wrapperEl.style.height="100%",this.wrapperEl.style.visibility="hidden",this.wrapperEl.innerHTML=this.parseTemplate(this.source,this.localDomIdPrefix),[4,this.parseStyle(this.source,this.localDomIdPrefix,this.wrapperEl.id)];case 3:return n=s.sent(),i=document.getElementsByTagName("head")[0],n.forEach((function(t){i.appendChild(t)})),e&&e.enableCssTransition&&(this.cssTransitionDriver=new B(this.wrapperEl),this.cssTransitionDriver.setCustomTransitionClasses(e.cssTransitionDriverClasses)),o={order:this.moduleDefinition.orderOnFlatContainer},this.currentContainer=t(this.wrapperEl,o),[4,this.parseScripts(this.source,this.localDomIdPrefix)];case 4:return s.sent().forEach((function(t){r.wrapperEl.appendChild(t)})),this.subContainerInfos.forEach((function(t,e){var n=e.replace(/\\:/g,r.localDomIdPrefix),i=document.getElementById(n),o=r.name+"."+t.name;t.container=S.createContainer(o,t.type,i,r)})),this.isMounted=!0,this.htmlAdapter=D.get(this.moduleIndex),this.htmlAdapter._setHtmlModule(this),this.htmlAdapter._internal.triggerOnLoad({}),[2]}}))}))},e.prototype.unmount=function(){throw new Error("Method not implemented.")},e.prototype.parseTemplate=function(t,e){var n=U.extractOutermostHtmlTagBlocks("template",t);return n.length>0?U.extractInnerHtml(n[0]).replace(/\\:/g,e):""},e.prototype.parseStyle=function(t,e,n){return j(this,void 0,void 0,(function(){var i,o,r,s,a,u,c,h;return W(this,(function(d){switch(d.label){case 0:for(u in i=new Array,o=U.extractOutermostHtmlTagBlocks("style",t),r=function(t){var r,a,u,c,h,d;return W(this,(function(p){switch(p.label){case 0:return r=U.extractTagAttributes(o[t]),a=r.get("data-src"),u=void 0,a?[4,l.getInstance().fetch(s.sourceDirectory+a)]:[3,2];case 1:return u=p.sent(),[3,3];case 2:u=U.extractInnerHtml(o[t]),p.label=3;case 3:return c=function(t){return t.replace(/[#.]/g,"$&"+e)},h=(h=u.replace(/^[^{]*/,(function(t){var e=c(t);return e=(e=e.replace(/[#.\w\-]+[,\s{]/,(function(t){var e=t.slice(0,1);return"#"!==e&&"."!==e?"#"+n+" "+t:t}))).replace(/([,]\s*)([\w\-]+)/g,"$1#"+n+" $2")}))).replace(/}[^{";]*?{/g,(function(t){return c(t).replace(/([};,]\s*)([\w\-]+)/g,"$1#"+n+" $2")})),(d=document.createElement("style")).appendChild(document.createTextNode(h)),i.push(d),[2]}}))},s=this,a=[],o)a.push(u);c=0,d.label=1;case 1:return c<a.length?(h=a[c],[5,r(h)]):[3,4];case 2:d.sent(),d.label=3;case 3:return c++,[3,1];case 4:return[2,i]}}))}))},e.prototype.parseScripts=function(t,e){return j(this,void 0,void 0,(function(){var n,i,o,r,s,a,u,c,h,d,p,f,y,v,m,g;return W(this,(function(w){switch(w.label){case 0:for(c in n=new Array,i=U.extractOutermostHtmlTagBlocks("script",t),o="",r="",s="",a="",u=[],i)u.push(c);h=0,w.label=1;case 1:return h<u.length?(d=u[h],p=U.extractTagAttributes(i[d]),f=p.get("data-script-type"),(y=p.get("src"))?[4,l.getInstance().fetch(this.sourceDirectory+y)]:[3,3]):[3,6];case 2:return o=w.sent(),[3,4];case 3:o=U.extractInnerHtml(i[d]),w.label=4;case 4:"native"===f?r+=o:f&&"prototype"!==f?"class"===f&&(a+=o):s+=o,w.label=5;case 5:return h++,[3,1];case 6:return(v=document.createElement("script")).textContent=r.replace(/\\:/g,e),n.push(v),a?((m=document.createElement("script")).textContent=a.replace(/\\:/g,e),n.push(m)):(g=document.createElement("script"),s=this.prototypeTemplateBegin+s+this.prototypeTemplateEnd,g.textContent=s.replace(/\\:/g,e),n.push(g)),[2,n]}}))}))},e}(d),G=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},X=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},Z=function(){function t(t){this.moduleLoader=t}return t.prototype.send=function(t,e,n){return G(this,void 0,void 0,(function(){return X(this,(function(i){return[2,this.moduleLoader.getModule(t).messageHandler(e,n)]}))}))},t.prototype.multicast=function(t,e,n){this.moduleLoader.getModule(t).multicastMessageHandler(e,n)},t}(),q=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},$=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};!function(t){t[t.Native=0]="Native",t[t.Vue=1]="Vue",t[t.React=2]="React",t[t.SSRP=3]="SSRP"}(H||(H={}));var K,J=function(){function t(){this.instanceSequence=0,this.definitions=new Map,this.loadedModules=new Map,this.prefetchedModules=new Map,this.subModuleList=new Map,this.messageDispatcher=new Z(this)}return t.prototype.setViewPort=function(t){this.viewPort=t},t.prototype.getViewPort=function(){return this.viewPort},t.prototype.getMessageDispatcher=function(){return this.messageDispatcher},t.prototype.register=function(t,e,n,i,o){this.addModuleDefinition(t,e,n,i,o)},t.prototype.addModuleDefinition=function(t,e,n,i,o){var r=o||{},s={moduleName:t,sourceUri:e,targetContainerId:n,moduleType:void 0!==r.moduleType?r.moduleType:H.Native,isContainerDefault:i,lazyLoading:void 0!==r.lazyLoading&&r.lazyLoading,forcePrefetch:void 0===r.forcePrefetch||r.forcePrefetch,orderOnFlatContainer:r.orderOnFlatContainer};this.definitions.set(t,s);var a=n.split(".")[0];return this.subModuleList.has(a)||this.subModuleList.set(a,new Array),this.subModuleList.get(a).push(t),s},t.prototype.getModule=function(t){if(!this.loadedModules.has(t))throw new y("指定されたモジュールが見つかりません。");return this.loadedModules.get(t)},t.prototype.getNextModuleInstanceSequence=function(){return this.instanceSequence++},t.prototype.run=function(){var t=this;window.addEventListener("resize",(function(){t.viewPort.getViewPortContainer().onResize()})),this.viewPort.getViewPortContainer().initialize()},t.prototype.initialize=function(){return q(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a,l,u,c;return $(this,(function(h){switch(h.label){case 0:for(n in t=new Array,this.definitions.forEach((function(e,n){t.push(n)})),e=[],t)e.push(n);i=0,h.label=1;case 1:return i<e.length?(o=e[i],(r=this.definitions.get(t[o])).forcePrefetch?[4,this.fetchModule(r.moduleName)]:[3,3]):[3,4];case 2:s=h.sent(),this.prefetchedModules.set(r.moduleName,s),h.label=3;case 3:return i++,[3,1];case 4:a=this.subModuleList.get("$root"),l=0,u=a,h.label=5;case 5:return l<u.length?(c=u[l],this.definitions.get(c).lazyLoading?[3,7]:[4,this.loadModuleRecursively(c,this.viewPort)]):[3,9];case 6:return h.sent(),[3,8];case 7:console.log(c+" is lazy load mode."),h.label=8;case 8:return l++,[3,5];case 9:return[2]}}))}))},t.prototype.fetchModule=function(t){return q(this,void 0,void 0,(function(){var e,n;return $(this,(function(i){switch(i.label){case 0:return this.prefetchedModules.has(t)?(e=this.prefetchedModules.get(t),this.prefetchedModules.delete(t),[3,3]):[3,1];case 1:if(!(n=this.definitions.get(t)))throw new y("指定されたモジュール "+t+" は定義されていません。");if(n.moduleType!==H.Native&&n.moduleType)throw new y("不明な種類のコンポーネントが指定されました。");return[4,(e=new Y(n,this)).fetch()];case 2:i.sent(),i.label=3;case 3:return[2,e]}}))}))},t.prototype.loadModuleRecursively=function(t,e){return q(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,u,c;return $(this,(function(h){switch(h.label){case 0:return[4,this.fetchModule(t)];case 1:if(n=h.sent(),i=this.definitions.get(t),o=i.targetContainerId.split("."),r=o[1],!(s=e.getChildContainer(r)))throw new y("ターゲットコンテナは存在しないか、ロードされていません。");return[4,s.addModule(n)];case 2:h.sent(),i.isContainerDefault&&s.setDefaultModule(t),this.loadedModules.has(t)||this.loadedModules.set(t,n),a=this.subModuleList.get(t)||[],l=0,u=a,h.label=3;case 3:return l<u.length?(c=u[l],this.definitions.get(c).lazyLoading?[3,5]:[4,this.loadModuleRecursively(c,n)]):[3,7];case 4:return h.sent(),[3,6];case 5:console.log(c+" is lazy load mode."),h.label=6;case 6:return l++,[3,3];case 7:return[2,n]}}))}))},t}(),Q=function(){function t(){}return t.isMsIE=!1,t.currentMouseClientX=0,t.currentMouseClientY=0,t}(),tt=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},et=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},nt=function(){function t(t){this.viewPortEl=null,this.overlayLastFocusedElement=null,this.previousMouseX=0,this.previousMouseY=0,this.contentsSelectable=!0,this.requestedAutoCloseCancelOnlyOnce=!1,this.DEFAULT_OVERLAY_START_Z_INDEX=10,this.MODAL_START_Z_INDEX=1e3,this.FOREGROUND_START_Z_INDEX=2e3,this.overlays=new Map,this.statusTable=new Map,this.configTable=new Map;var e=this.modalBackgroundLayer=document.createElement("div");e.className="itm_modal_background_layer",e.style.position="absolute",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",e.style.display="none",e.style.zIndex=String(this.MODAL_START_Z_INDEX),this.modalBackgroundLayerTransitionDriver=new B(this.modalBackgroundLayer),this.onFocusInBindedThis=this.onFocusIn.bind(this),this.onMouseDownBindedThis=this.onMouseDown.bind(this),this.onMouseMoveBindedThis=this.onMouseMove.bind(this),this.onMouseUpBindedThis=this.onMouseUp.bind(this),this.onSelectStartBindedThis=this.onSelectStart.bind(this),this.windowResizeEventHandlerBindThis=this.windowResizeEventHandler.bind(this),this.setViewPortElement(t)}return t.prototype.findOverlayByContainer=function(t){var e=null;return this.overlays.forEach((function(n){n.getChildContainer()===t&&(e=n)})),e},t.prototype.onMouseDown=function(t){var e=this;this.requestedAutoCloseCancelOnlyOnce||this.statusTable.forEach((function(t,n){if(t.isVisible&&e.configTable.get(n).autoCloseWhenOutfocus){var i=e.overlays.get(n);i.getChildContainer().getCurrentModule().exit(v.CANCEL).then((function(t){t&&i.close()}))}})),this.requestedAutoCloseCancelOnlyOnce=!1},t.prototype.onMouseMove=function(t){var e=t.screenX-this.previousMouseX,n=t.screenY-this.previousMouseY;this.previousMouseX=t.screenX,this.previousMouseY=t.screenY,this.overlays.forEach((function(i){i.__dispachMouseMoveEvent(t.screenX,t.screenY,e,n)}))},t.prototype.onMouseUp=function(t){this.overlays.forEach((function(e){e.__dispachMouseUpEvent(t.screenX,t.screenY)})),this.changeContentsSelectable(!0)},t.prototype.windowResizeEventHandler=function(t){},t.prototype.onSelectStart=function(t){this.contentsSelectable||t.preventDefault()},t.prototype.onFocusIn=function(t){this.overlayLastFocusedElement=null},t.prototype.getViewPortElement=function(){return this.viewPortEl},t.prototype.setViewPortElement=function(t){null!==this.viewPortEl&&(this.viewPortEl.removeEventListener("focusin",this.onFocusInBindedThis),this.viewPortEl.removeEventListener("mousedown",this.onMouseDownBindedThis),this.viewPortEl.removeEventListener("mousemove",this.onMouseMoveBindedThis),this.viewPortEl.removeEventListener("mouseup",this.onMouseUpBindedThis),this.viewPortEl.removeEventListener("selectstart",this.onSelectStartBindedThis)),this.viewPortEl=t,this.viewPortEl.addEventListener("focusin",this.onFocusInBindedThis),this.viewPortEl.addEventListener("mousedown",this.onMouseDownBindedThis),this.viewPortEl.addEventListener("mousemove",this.onMouseMoveBindedThis),this.viewPortEl.addEventListener("mouseup",this.onMouseUpBindedThis),this.viewPortEl.addEventListener("selectstart",this.onSelectStartBindedThis),this.viewPortEl.appendChild(this.modalBackgroundLayer)},t.prototype.register=function(t,e){this.overlays.set(t.getName(),t),this.statusTable.set(t.getName(),new it),this.configTable.set(t.getName(),e)},t.prototype.initialize=function(){return tt(this,void 0,void 0,(function(){var t,e,n,i,o,r,s;return et(this,(function(a){switch(a.label){case 0:for(n in t=new Array,this.overlays.forEach((function(e,n){t.push(n)})),e=[],t)e.push(n);i=0,a.label=1;case 1:return i<e.length?(o=e[i],r=t[o],this.configTable.get(r).lazyLoading?[3,3]:((s=this.overlays.get(r)).mount(this),[4,s.loadModule()])):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},t.prototype.changeContentsSelectable=function(t){this.contentsSelectable=t},t.prototype.beginModalMode=function(){this.modalBackgroundLayerTransitionDriver.show()},t.prototype.endModalMode=function(){var t=!1;this.statusTable.forEach((function(e,n){e.isVisible&&e.isModal&&(t=!0)})),t||this.modalBackgroundLayerTransitionDriver.hide()},t.prototype.show=function(t,e,n){return tt(this,void 0,void 0,(function(){var i,o,r;return et(this,(function(s){switch(s.label){case 0:return[4,this.checkAndLoadLazyModule(t)];case 1:return s.sent(),i=this.overlays.get(t),(o=this.statusTable.get(t)).parentOverlay=n?n.parent:null,o.isVisible=!0,this.activateSpecificOverlay(t),[4,i.show(e,n)];case 2:return r=s.sent(),o.isVisible=!1,this.activateTopOverlay(),[2,r]}}))}))},t.prototype.showAsModal=function(t,e,n){return tt(this,void 0,void 0,(function(){var i,o;return et(this,(function(r){switch(r.label){case 0:return[4,this.checkAndLoadLazyModule(t)];case 1:return r.sent(),(i=this.statusTable.get(t)).isModal=!0,this.beginModalMode(),[4,this.show(t,e,n)];case 2:return o=r.sent(),i.isModal=!1,this.endModalMode(),[2,o]}}))}))},t.prototype.checkAndLoadLazyModule=function(t){return tt(this,void 0,void 0,(function(){var e;return et(this,(function(n){switch(n.label){case 0:return this.overlays.has(t)?(e=this.overlays.get(t)).getIsMounted()?[3,2]:(e.mount(this),[4,e.loadModule()]):[3,3];case 1:n.sent(),n.label=2;case 2:return[3,4];case 3:throw new y("指定されたモジュールは登録されていません。");case 4:return[2,!0]}}))}))},t.prototype.overlayMouseDownEventHandler=function(t){this.activateSpecificOverlay(t)},t.prototype.activateSpecificOverlay=function(t){var e=this,n=new Array,i=this.overlays.get(t);this.overlays.forEach((function(e,i){i!==t&&n.push(e)})),n.sort((function(t,e){return e.getZIndex()-t.getZIndex()})),n.unshift(i);var o=0;this.statusTable.forEach((function(t,e){t.isVisible&&++o}));var r=0,s=null,a=null;n.forEach((function(t){var n=e.statusTable.get(t.getName()),i=e.configTable.get(t.getName());n.isVisible&&(i.autoCloseWhenOutfocus?t.changeZIndex(e.FOREGROUND_START_Z_INDEX+o--):n.isModal?t.changeZIndex(e.MODAL_START_Z_INDEX+o--):t.changeZIndex(e.DEFAULT_OVERLAY_START_Z_INDEX+o--),0===r||a.isActive()&&t===s.parentOverlay?t.activate():t.inactivate(n.isModal),s=n,a=t,++r)}))},t.prototype.activateTopOverlay=function(){var t,e=this,n=-1;this.overlays.forEach((function(i,o){e.statusTable.get(o).isVisible&&i.getZIndex()>n&&(n=i.getZIndex(),t=o)})),n>-1&&this.activateSpecificOverlay(t)},t.prototype.cancelAutoClosingOnlyOnce=function(){this.requestedAutoCloseCancelOnlyOnce=!0},t.prototype.getOverlay=function(t){return this.overlays.get(t)},t}(),it=function(){function t(){this.isVisible=!1,this.isModal=!1,this.parentOverlay=null}return t.prototype.reset=function(){return this.isVisible=!1,this.isModal=!1,this.parentOverlay=null,this},t}(),ot=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},rt=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},st=function(){function t(t,e){this.cssUris=[],this.scriptUris=[],this.loadFinishResolver=null,this.currentCssLoadIndex=0,this.currentScriptLoadIndex=0,this.cssLoadIsComplete=!1,this.scriptLoadIsComplete=!1,this.loadedCss=new Set,this.loadedScript=new Set,this.cssUris=t,this.scriptUris=e}return t.prototype.load=function(){return ot(this,void 0,void 0,(function(){var t=this;return rt(this,(function(e){return[2,new Promise((function(e){t.loadFinishResolver=e,t.loadCss(),t.loadScript()}))]}))}))},t.prototype.onCompleteHandler=function(){this.cssLoadIsComplete&&this.scriptLoadIsComplete&&this.loadFinishResolver()},t.prototype.loadCss=function(){var t,e=this,n=this.cssUris[this.currentCssLoadIndex],i=this.loadedCss.has(n)||0===this.cssUris.length;if(!i){var o=document.getElementsByTagName("head")[0];(t=document.createElement("link")).rel="stylesheet",t.type="text/css",t.href=n+"?ver="+(new Date).getTime(),o.insertBefore(t,o.firstChild),this.loadedScript.add(n)}++this.currentCssLoadIndex<this.cssUris.length?i?this.loadCss():t.onload=this.loadCss.bind(this):i?(this.cssLoadIsComplete=!0,this.onCompleteHandler()):t.onload=function(){e.cssLoadIsComplete=!0,e.onCompleteHandler()}},t.prototype.loadScript=function(){var t,e=this,n=this.scriptUris[this.currentScriptLoadIndex],i=this.loadedScript.has(n)||0===this.scriptUris.length;i||((t=document.createElement("script")).src=n+"?ver="+(new Date).getTime(),document.body.appendChild(t),this.loadedScript.add(n)),++this.currentScriptLoadIndex<this.scriptUris.length?i?this.loadScript():t.onload=this.loadScript.bind(this):i?(this.scriptLoadIsComplete=!0,this.onCompleteHandler()):t.onload=function(){e.scriptLoadIsComplete=!0,e.onCompleteHandler()}},t}(),at=function(t,e){this.x=t,this.y=e},lt=function(t,e){this.width=t,this.height=e},ut=function(t,e){this.cssWidth=t,this.cssHeight=e},ct=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},ht=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},dt=function(){function t(e,n,i){this.lastFocusIsDetector=!1,this.isMounted=!1,this.active=!1,this.inactiveModalMode=!1,this.moduleLoader=i,this.name=e;var o=n?n.cssWidth:t.DEFAULT_OVERLAY_SIZE_WIDTH,r=n?n.cssHeight:t.DEFAULT_OVERLAY_SIZE_HEIGHT;this.originalSize=new ut(o,r),this.containerId="overlay#"+this.name+"."+this.name}return t.prototype.mount=function(t){var e;this.overlayManager=t,this.viewPortEl=t.getViewPortElement(),this.frameEl=document.createElement("div"),this.frameEl.style.position="absolute",this.frameEl.style.backgroundColor="transparent",this.frameEl.style.visibility="hidden",this.frameEl.addEventListener("selectstart",this.onSelectStart.bind(this)),this.frameEl.addEventListener("mousedown",this.onOuterMouseDown.bind(this)),(e=this.tabFocusMoveHeadStopper=document.createElement("div")).className="itm_tabfocus_move_stopper",e.style.height="0px",e.tabIndex=0,e.addEventListener("focusin",this.onTabFocusMoveHeadStopperFocusIn.bind(this)),(e=this.tabFocusMoveHeadDetector=document.createElement("div")).className="itm_tabfocus_move_detector",e.style.height="0px",e.tabIndex=0,e.addEventListener("focusin",this.onTabFocusMoveHeadDetectorFocusIn.bind(this)),(e=this.contentEl=this.outerContentEl=document.createElement("div")).style.position="absolute",e.style.overflow="hidden",e.style.width="100%",e.style.height="100%",(e=this.modalInactiveLayer=document.createElement("div")).className="itm_modal_background_layer",e.style.position="absolute",e.style.overflow="hidden",e.style.display="none",e.style.width="100%",e.style.height="100%",this.modalInactiveLayerTransitionDriver=new B(this.modalInactiveLayer),this.resize(this.originalSize.cssWidth,this.originalSize.cssHeight),(e=this.tabFocusMoveTailDetector=document.createElement("div")).className="itm_tabfocus_move_detector",e.style.height="0px",e.tabIndex=0,e.addEventListener("focusin",this.onTabFocusMoveTailDetectorFocusIn.bind(this)),(e=this.tabFocusMoveTailStopper=document.createElement("div")).className="itm_tabfocus_move_stopper",e.style.height="0px",e.tabIndex=0,e.addEventListener("focusin",this.onTabFocusMoveTailStopperFocusIn.bind(this)),this.contentEl.addEventListener("focusin",this.onFocusIn.bind(this)),this.contentEl.addEventListener("focusout",this.onFocusOut.bind(this)),this.frameEl.appendChild(this.tabFocusMoveHeadStopper),this.frameEl.appendChild(this.tabFocusMoveHeadDetector),this.frameEl.appendChild(this.contentEl),this.frameEl.appendChild(this.tabFocusMoveTailDetector),this.frameEl.appendChild(this.tabFocusMoveTailStopper),this.frameEl.appendChild(this.modalInactiveLayer),this.viewPortEl.appendChild(this.frameEl),this.outerFrameTransitionDriver=new B(this.frameEl),this.cacheCurrentOffsetSize(),this.isMounted=!0},t.prototype.loadModule=function(){return ct(this,void 0,void 0,(function(){return ht(this,(function(t){switch(t.label){case 0:return[4,this.moduleLoader.loadModuleRecursively(this.name,this)];case 1:return t.sent(),[2]}}))}))},t.prototype.getIsMounted=function(){return this.isMounted},t.prototype.getContainerId=function(){return this.containerId},t.prototype.__dispachMouseMoveEvent=function(t,e,n,i){},t.prototype.__dispachMouseUpEvent=function(t,e){},t.prototype.registerAsContainer=function(e,n){var i=t.instanceSequenceTable.get(e);void 0===i&&(i=0),this.container=S.createContainer(this.containerId,"",n,null),t.instanceSequenceTable.set(e,i+1)},t.prototype.onSelectStart=function(t){},t.prototype.onTabFocusMoveHeadStopperFocusIn=function(t){this.lastFocusedEl?this.lastFocusedEl.focus():this.tabFocusMoveHeadDetector.focus()},t.prototype.onTabFocusMoveHeadDetectorFocusIn=function(t){this.lastFocusIsDetector||(this.lastFocusIsDetector=!0,this.tabFocusMoveTailDetector.focus()),t.stopPropagation()},t.prototype.onTabFocusMoveTailDetectorFocusIn=function(t){this.lastFocusIsDetector||(this.lastFocusIsDetector=!0,this.tabFocusMoveHeadDetector.focus()),t.stopPropagation()},t.prototype.onTabFocusMoveTailStopperFocusIn=function(t){this.lastFocusedEl?this.lastFocusedEl.focus():this.tabFocusMoveTailDetector.focus()},t.prototype.onOuterMouseDown=function(t){this.inactiveModalMode||this.overlayManager.overlayMouseDownEventHandler(this.name)},t.prototype.onFocusIn=function(t){this.lastFocusIsDetector=!1,this.overlayManager.overlayLastFocusedElement=null},t.prototype.onFocusOut=function(t){this.lastFocusIsDetector=!1,this.lastFocusedEl=t.target,this.overlayManager.overlayLastFocusedElement=t.target},t.prototype.cacheCurrentOffsetSize=function(){var t=this.frameEl.offsetWidth,e=this.frameEl.offsetHeight;t>0&&e>0&&(this.offsetSizeCache=new lt(t,e))},t.prototype.restoreOriginalSize=function(){this.resize(this.originalSize.cssWidth,this.originalSize.cssHeight)},t.prototype.changeZIndex=function(t){this.zIndex=t,this.frameEl.style.zIndex=String(t)},t.prototype.getName=function(){return this.name},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.changePosition=function(t,e){this.position=new at(t,e),this.frameEl.style.left=String(t)+"px",this.frameEl.style.top=String(e)+"px"},t.prototype.moveToViewPortCenter=function(){var t=Math.round((this.viewPortEl.offsetWidth-this.offsetSizeCache.width)/2),e=Math.round((this.viewPortEl.offsetHeight-this.offsetSizeCache.height)/2);this.changePosition(t,e)},t.prototype.resize=function(t,e){this.size=new ut(t,e),this.frameEl.style.width=t,this.frameEl.style.height=e},t.prototype.activate=function(){this.active=!0,this.inactiveModalMode=!1,this.modalInactiveLayerTransitionDriver.hide()},t.prototype.inactivate=function(t){this.active=!1,this.inactiveModalMode=t,t&&this.modalInactiveLayerTransitionDriver.show()},t.prototype.isActive=function(){return this.active},t.prototype.getFrameElement=function(){return this.frameEl},t.DEFAULT_OVERLAY_SIZE_WIDTH="50%",t.DEFAULT_OVERLAY_SIZE_HEIGHT="50%",t.instanceSequenceTable=new Map,t}(),pt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ft=function(t){function e(e,n,i){var o=t.call(this,e,n,i)||this;return o.resizable=!0,o.isResizing=!1,o.resizeHandleEl=new Array,o}return pt(e,t),e.prototype.mount=function(n){t.prototype.mount.call(this,n);var i="calc(100% - "+2*e.resizeHandleThicknessPx+"px)",o=this.contentEl.style;o.left=String(e.resizeHandleThicknessPx)+"px",o.top=String(e.resizeHandleThicknessPx)+"px",o.width=i,o.height=i;var r=this.modalInactiveLayer.style;r.left=String(e.resizeHandleThicknessPx)+"px",r.top=String(e.resizeHandleThicknessPx)+"px",r.width=i,r.height=i,this.createResizeHandleElements(),this.resize(this.size.cssWidth,this.size.cssHeight)},e.prototype.createResizeHandleElements=function(){for(var t=this,n=this.resizeHandleEl,i=2*e.resizeHandleThicknessPx,o=0;o<8;o++){var r=document.createElement("div");r.dataset.positionIndex=String(o),r.style.position="absolute",r.style.width=i+"px",r.style.height=i+"px",r.style.zIndex="-1",r.addEventListener("mousedown",this.onResizeHandleMouseDown.bind(this)),n.push(r)}n[0].style.cursor="nwse-resize",n[1].style.left=String(i)+"px",n[1].style.width="calc(100% - "+String(2*i)+"px)",n[1].style.cursor="ns-resize",n[2].style.right="0px",n[2].style.cursor="nesw-resize",n[3].style.top=String(i)+"px",n[3].style.height="calc(100% - "+String(2*i)+"px)",n[3].style.cursor="ew-resize",n[4].style.right="0px",n[4].style.top=String(i)+"px",n[4].style.height="calc(100% - "+String(2*i)+"px)",n[4].style.cursor="ew-resize",n[5].style.bottom="0px",n[5].style.cursor="nesw-resize",n[6].style.left=String(i)+"px",n[6].style.bottom="0px",n[6].style.width="calc(100% - "+String(2*i)+"px)",n[6].style.cursor="ns-resize",n[7].style.right="0px",n[7].style.bottom="0px",n[7].style.cursor="nwse-resize",n.forEach((function(e){t.frameEl.appendChild(e)}))},e.prototype.__dispachMouseMoveEvent=function(n,i,o,r){var s,a;if(t.prototype.__dispachMouseMoveEvent.call(this,n,i,o,r),this.isResizing&&this.resizable){var l=this.resizeStartSizePx.width,u=this.resizeStartSizePx.height,c=this.resizeStartMousePos.x,h=this.resizeStartMousePos.y;switch(this.resizePositionIndex){case 0:this.changePosition(this.resizeStartPos.x+(n-c),this.resizeStartPos.y+(i-h)),s=l-(n-c),a=u-(i-h);break;case 1:this.changePosition(this.position.x,this.resizeStartPos.y+(i-h)),s=l,a=u-(i-h);break;case 2:this.changePosition(this.position.x,this.resizeStartPos.y+(i-h)),s=l+(n-c),a=u-(i-h);break;case 3:this.changePosition(this.resizeStartPos.x+(n-c),this.position.y),s=l-(n-c),a=u;break;case 4:this.changePosition(this.position.x,this.position.y),s=l+(n-c),a=u;break;case 5:this.changePosition(this.resizeStartPos.x+(n-c),this.position.y),s=l-(n-c),a=u+(i-h);break;case 6:this.changePosition(this.position.x,this.position.y),s=l,a=u+(i-h);break;case 7:this.changePosition(this.position.x,this.position.y),s=l+(n-c),a=u+(i-h)}s-=2*e.resizeHandleThicknessPx,a-=2*e.resizeHandleThicknessPx,this.resize(s+"px",a+"px")}},e.prototype.__dispachMouseUpEvent=function(e,n){this.isMounted&&(t.prototype.__dispachMouseUpEvent.call(this,e,n),this.isResizing=!1,this.cacheCurrentOffsetSize())},e.prototype.onResizeHandleMouseDown=function(t){this.isResizing=!0,this.resizePositionIndex=parseInt(t.target.dataset.positionIndex),this.resizeStartMousePos=new at(t.screenX,t.screenY),this.resizeStartPos=new at(this.position.x,this.position.y),this.resizeStartSizePx=new lt(this.frameEl.offsetWidth,this.frameEl.offsetHeight),this.overlayManager.changeContentsSelectable(!1)},e.prototype.resize=function(t,n){this.size=new ut(t,n),this.frameEl.style.width="calc("+t+" + "+2*e.resizeHandleThicknessPx+"px)",this.frameEl.style.height="calc("+n+" + "+2*e.resizeHandleThicknessPx+"px)"},e.prototype.setResizable=function(t){this.resizable=t,this.refreshResizeHandleElementActivate()},e.prototype.refreshResizeHandleElementActivate=function(){var t=this.resizable&&!this.inactiveModalMode;this.resizeHandleEl.forEach((function(e){e.style.display=t?"":"none"}))},e.resizeHandleThicknessPx=8,e}(dt),yt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vt=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},mt=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},gt=function(t){function e(e,n,i){var o=t.call(this,e,i?i.size:null,n)||this;return o.isDragging=!1,o.windowOptions=i,i&&!1===i.resizable&&o.setResizable(!1),o}return yt(e,t),e.prototype.mount=function(e){t.prototype.mount.call(this,e);var n,i,o=this.windowOptions;(n=this.wrapperEl=document.createElement("div")).style.position="absolute",n.style.display="flex",n.style.flexDirection="column",n.style.width="100%",n.style.height="100%",(n=this.headerEl=document.createElement("div")).className="itm_dialog_window_header",n.style.position="relative",n.style.display="flex",n.style.width="100%",o&&o.hideHeader&&(this.headerEl.style.display="none"),(n=this.headerTitleEl=document.createElement("div")).className="caption",n.textContent=o&&o.defaultCaption?o.defaultCaption:"",(n=this.headerCloseButtonEl=document.createElement("div")).className="close_button",n.addEventListener("click",this.onHeaderCloseButtonClick.bind(this)),(n=this.headerEl).appendChild(this.headerTitleEl),n.appendChild(this.headerCloseButtonEl),n.addEventListener("mousedown",this.onHeaderMouseDown.bind(this)),n.addEventListener("dragstart",this.onHeaderDragStart.bind(this)),(n=this.containerEl=document.createElement("div")).className="itm_dialog_window_body",n.style.position="relative",n.style.flexGrow="1",n.style.flexShrink="1",n.style.width="100%",this.registerAsContainer("window",this.containerEl),(n=this.footerEl=document.createElement("div")).className="itm_dialog_window_footer",n.style.position="relative",n.style.width="100%",o&&o.hideFooter&&(n.style.display="none"),(i=this.okButtonEl=document.createElement("input")).type="button",i.classList.add("itm_dialog_window_footer_button","ok"),i.value="OK",i.addEventListener("click",this.onOkButtonClick.bind(this)),(i=this.cancelButtonEl=document.createElement("input")).type="button",i.classList.add("itm_dialog_window_footer_button","cancel"),i.value="キャンセル",i.addEventListener("click",this.onCancelButtonClick.bind(this)),(i=this.applyButtonEl=document.createElement("input")).type="button",i.classList.add("itm_dialog_window_footer_button","apply"),i.value="適用",this.footerEl.appendChild(this.okButtonEl),this.footerEl.appendChild(this.cancelButtonEl),this.wrapperEl.appendChild(this.headerEl),this.wrapperEl.appendChild(this.containerEl),this.wrapperEl.appendChild(this.footerEl),this.contentEl.className="itm_dialog_window_container",this.contentEl.appendChild(this.wrapperEl),this.outerFrameTransitionDriver.setCustomTransitionClasses({standyStateClass:"itm_dialog_window_standy_state",enterTransitionClass:"itm_dialog_window_enter_transition",leaveTransitionClass:"itm_dialog_window_leave_transition",endStateClass:"itm_dialog_window_end_state"})},e.prototype.onHeaderMouseDown=function(t){this.isDragging=!0,this.overlayManager.changeContentsSelectable(!1)},e.prototype.onHeaderDragStart=function(t){t.preventDefault()},e.prototype.onHeaderCloseButtonClick=function(t){var e=this;this.container.getCurrentModule().exit(v.CANCEL).then((function(t){t&&e.close()}))},e.prototype.onOkButtonClick=function(t){var e=this;this.container.getCurrentModule().exit(v.OK).then((function(t){t&&e.close(e.container.getContainerResult())}))},e.prototype.onCancelButtonClick=function(t){var e=this;this.container.getCurrentModule().exit(v.CANCEL).then((function(t){t&&e.close()}))},e.prototype.onApplyButtonClick=function(t){},e.prototype.waitForOverlayClose=function(){var t=this;return new Promise((function(e){t.waitForOverlayCloseResolver=e}))},e.prototype.__dispachMouseMoveEvent=function(e,n,i,o){t.prototype.__dispachMouseMoveEvent.call(this,e,n,i,o),this.isDragging&&this.changePosition(this.position.x+i,this.position.y+o)},e.prototype.__dispachMouseUpEvent=function(e,n){t.prototype.__dispachMouseUpEvent.call(this,e,n),this.isDragging=!1},e.prototype.getChildContainer=function(){return this.container},e.prototype.setWindowTitle=function(t){this.headerTitleEl.textContent=t},e.prototype.show=function(t,e){return vt(this,void 0,void 0,(function(){return mt(this,(function(n){return e&&e.position?this.changePosition(e.position.x,e.position.y):this.moveToViewPortCenter(),this.container.initialize(t),this.outerFrameTransitionDriver.show(),[2,this.waitForOverlayClose()]}))}))},e.prototype.showAsModal=function(t,e){return vt(this,void 0,void 0,(function(){return mt(this,(function(n){return[2,this.show(t,e)]}))}))},e.prototype.close=function(t){this.outerFrameTransitionDriver.hide(),window.setTimeout(this.waitForOverlayCloseResolver.bind(this),0,t)},e.prototype.activate=function(){t.prototype.activate.call(this),this.headerEl.classList.remove("inactive")},e.prototype.inactivate=function(e){t.prototype.inactivate.call(this,e),this.headerEl.classList.add("inactive")},e}(ft),wt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),bt=function(t){function e(e,n,i){return t.call(this,e,i?i.size:null,n)||this}return wt(e,t),e.prototype.mount=function(e){var n;t.prototype.mount.call(this,e),(n=this.containerEl=document.createElement("div")).className="",n.style.position="relative",n.style.width="100%",n.style.height="100%",this.registerAsContainer("contextmenu",n),this.contentEl.className="itm_context_menu_container",this.contentEl.appendChild(this.containerEl),this.contentEl.addEventListener("mousedown",this.onContentMouseDown.bind(this)),this.outerFrameTransitionDriver.setCustomTransitionClasses({standyStateClass:"itm_context_menu_standy_state",enterTransitionClass:"itm_context_menu_enter_transition",leaveTransitionClass:"itm_context_menu_leave_transition",endStateClass:"itm_context_menu_end_state"})},e.prototype.getChildContainer=function(){return this.container},e.prototype.show=function(t,e){var n,i;n=Q.currentMouseClientX,i=Q.currentMouseClientY;var o=this.offsetSizeCache.width,r=this.offsetSizeCache.height,s=n+o,a=i+r,l=window.document.documentElement.clientWidth,u=window.document.documentElement.clientHeight,c=o<l,h=r<u,d=s<=l,p=a<=u,f=n>=o,y=i>=r;return this.restoreOriginalSize(),c?d||(f?n-=o:n=l-o):n=0,h?p||(y?i-=r:i=u-r):(i=0,this.resize(o+"px",u+"px")),this.changePosition(n,i),this.container.initialize(t),this.outerFrameTransitionDriver.show(),this.waitForOverlayClose()},e.prototype.showAsModal=function(t,e){return this.show(t,e)},e.prototype.close=function(t){this.outerFrameTransitionDriver.hide(),window.setTimeout(this.waitForOverlayCloseResolver.bind(this),0,t)},e.prototype.waitForOverlayClose=function(){var t=this;return new Promise((function(e){t.waitForOverlayCloseResolver=e}))},e.prototype.onContentMouseDown=function(t){this.overlayManager.cancelAutoClosingOnlyOnce()},e}(dt),Et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){t[t.Top=0]="Top",t[t.Right=1]="Right",t[t.Bottom=2]="Bottom",t[t.Left=3]="Left"}(K||(K={}));var Mt=function(t){function e(e,n,i){var o=t.call(this,e,null,n)||this;return o.dockType=void 0!==i.dockType?i.dockType:K.Left,o.dockSize=void 0!==i.dockSize?i.dockSize:"33%",o}return Et(e,t),e.prototype.mount=function(e){var n;t.prototype.mount.call(this,e),this.changeDockType(this.dockType),(n=this.containerEl=document.createElement("div")).className="",n.style.position="relative",n.style.width="100%",n.style.height="100%",this.registerAsContainer("drawer",n),this.contentEl.className="itm_drawer_container",this.contentEl.appendChild(this.containerEl),this.contentEl.addEventListener("mousedown",this.onContentMouseDown.bind(this))},e.prototype.getChildContainer=function(){return this.container},e.prototype.changeDockType=function(t){var e;switch(t===K.Left||t===K.Right?(this.frameEl.style.width=this.dockSize,this.frameEl.style.height="100%"):t!==K.Top&&t!==K.Bottom||(this.frameEl.style.width="100%",this.frameEl.style.height=this.dockSize),this.frameEl.style.left="",this.frameEl.style.right="",this.frameEl.style.top="",this.frameEl.style.bottom="",t===K.Left||t===K.Top||t===K.Bottom?this.frameEl.style.left="0px":this.frameEl.style.right="0px",t===K.Left||t===K.Right||t===K.Top?this.frameEl.style.top="0px":this.frameEl.style.bottom="0px",t){case K.Left:e="left";break;case K.Right:e="right";break;case K.Top:e="top";break;case K.Bottom:e="bottom"}this.outerFrameTransitionDriver.setCustomTransitionClasses({standyStateClass:"itm_drawer_"+e+"_dock_standy_state",enterTransitionClass:"itm_drawer_enter_transition",leaveTransitionClass:"itm_drawer_leave_transition",endStateClass:"itm_drawer_"+e+"_dock_end_state"})},e.prototype.changePosition=function(t,e){},e.prototype.show=function(t,e){return this.container.initialize(t),this.outerFrameTransitionDriver.show(),this.waitForOverlayClose()},e.prototype.showAsModal=function(t,e){return this.show(t,e)},e.prototype.close=function(t){this.outerFrameTransitionDriver.hide(),window.setTimeout(this.waitForOverlayCloseResolver.bind(this),0,t)},e.prototype.waitForOverlayClose=function(){var t=this;return new Promise((function(e){t.waitForOverlayCloseResolver=e}))},e.prototype.onContentMouseDown=function(t){this.overlayManager.cancelAutoClosingOnlyOnce()},e}(dt),Ct=function(){function t(t,e){this.element=t,this.overlayManager=e,this.container=S.createContainer(S.ROOT_CONTAINER_ID,"",t,null)}return t.prototype.getChildContainer=function(t){return this.container},t.prototype.getViewPortContainer=function(){return this.container},t.prototype.getOverlayManager=function(){return this.overlayManager},t}(),xt=function(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{l(i.next(t))}catch(t){r(t)}}function a(t){try{l(i.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((i=i.apply(t,e||[])).next())}))},_t=function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},St=function(){function t(){t.instances.push(this),this.moduleLoader=new J}return t.prototype.getModuleLoader=function(){return this.moduleLoader},t.prototype.getOverlayManager=function(){return this.overlayManager},t.prototype.setAppElementId=function(t){if(this.appElement=document.querySelector("#"+t),!this.appElement)throw new y("有効なルートコンテナが設定されていません。");this.overlayManager=new nt(this.appElement),this.moduleLoader.setViewPort(new Ct(this.appElement,this.overlayManager))},t.prototype.setSourceVersion=function(t){l.getInstance().setSourceVersion(t)},t.prototype.register=function(t,e,n,i,o){this.moduleLoader.register(t,e,n,i,o)},t.prototype.setRootModule=function(t,e){this.moduleLoader.register(t,e,S.ROOT_CONTAINER_ID,!0,null)},t.prototype.registerWindow=function(t,e,n,i){var o=new gt(t,this.moduleLoader,n),r={lazyLoading:!(!i||!i.lazyLoading)&&i.lazyLoading,autoCloseWhenOutfocus:!1};this.overlayManager.register(o,r),this.moduleLoader.register(t,e,o.getContainerId(),!0,i)},t.prototype.registerContextMenu=function(t,e,n,i){var o=new bt(t,this.moduleLoader,n),r={lazyLoading:!(!i||!i.lazyLoading)&&i.lazyLoading,autoCloseWhenOutfocus:!0};this.overlayManager.register(o,r),this.moduleLoader.register(t,e,o.getContainerId(),!0,i)},t.prototype.registerDrawer=function(t,e,n,i){var o=new Mt(t,this.moduleLoader,n),r={lazyLoading:!(!i||!i.lazyLoading)&&i.lazyLoading,autoCloseWhenOutfocus:!0};this.overlayManager.register(o,r),this.moduleLoader.register(t,e,o.getContainerId(),!0,i)},t.instances=new Array,t}();e.default=St;document.documentMode&&(Q.isMsIE=!0),window.addEventListener("mousemove",(function(t){Q.currentMouseClientX=t.clientX,Q.currentMouseClientY=t.clientY}));var Tt=function(){return xt(this,void 0,void 0,(function(){var t,e,n,i,o,r,s,a;return _t(this,(function(l){switch(l.label){case 0:return console.log("bootloader is called."),t=new St,e=new Array,n=new Array,document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.height="100%",document.body.style.overflow="hidden",(i=window).intraframeConfig?(i.intraframeConfig(t,e,n),[4,new st(e,n).load()]):[3,7];case 1:for(r in l.sent(),o=[],St.instances)o.push(r);s=0,l.label=2;case 2:return s<o.length?(a=o[s],[4,St.instances[a].getModuleLoader().initialize()]):[3,6];case 3:return l.sent(),[4,St.instances[a].getOverlayManager().initialize()];case 4:l.sent(),l.label=5;case 5:return s++,[3,2];case 6:return Ot(),[3,8];case 7:console.log("function 'intraframeConfig' is not defined."),l.label=8;case 8:return[2]}}))}))};window.IntraFrame=St;var Ot=function(){var t;St.instances.forEach((function(t){t.getModuleLoader().run()})),Q.isMsIE?(t=document.createEvent("Event")).initEvent("resize",!0,!1):t=new Event("resize"),window.dispatchEvent(t)};"complete"===document.readyState?Tt():window.addEventListener("load",(function(){Tt()}))}]);